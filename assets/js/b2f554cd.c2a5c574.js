"use strict";(self.webpackChunkschematix_documentation=self.webpackChunkschematix_documentation||[]).push([[1477],{10:function(e){e.exports=JSON.parse('{"blogPosts":[{"id":"Validating CSV files using JSON Schemas","metadata":{"permalink":"/blog/2021/11/17/validating-csv-files-with-json-schemas","source":"@site/blog/2021-11-17-validating-csv-files-with-json-schemas.md","title":"Validating CSV files using JSON Schemas","description":"CSV files are an often used medium for transferring data between systems. Be it medical data, financial data, or","date":"2021-11-17T00:00:00.000Z","formattedDate":"November 17, 2021","tags":[{"label":"validation","permalink":"/blog/tags/validation"},{"label":"csv","permalink":"/blog/tags/csv"},{"label":"json schema","permalink":"/blog/tags/json-schema"}],"readingTime":3.96,"truncated":true,"authors":[{"name":"Erik Pragt","title":"Schematix Developer","url":"https://github.com/schematix-net","imageURL":"https://avatars.githubusercontent.com/u/56183148?v=4"}],"nextItem":{"title":"Welcome","permalink":"/blog/2019/05/30/welcome"}},"content":"CSV files are an often used medium for transferring data between systems. Be it medical data, financial data, or \\nany other type of data, CSV files are often the exit or entry point of any IT system. But whenever the data \\ngets ingested, what options do we have to verify the validity of our data? This blogpost dives in how to validate\\nCSV data using standard JSON Schemas.\\n\\n\x3c!--truncate--\x3e\\n\\nJSON Schemas, as the name implies, are schemas used to validate JSON structures. However, CSV files (with a bit of \\nimagination) can resemble JSON structures quite well, and as such, a combination of CSV files and JSON Schemas seems \\na straightforward one. \\n\\nJSON Schemas offer a wide range of validation options. For instance, JSON Schemas offer data types, such as Strings,\\nNumbers, and Booleans as standard data types. Besides that, there are a wide range of validation options, ranging \\nfrom length checking, maximum values, to more complex validations of using Regular Expressions or custom datatypes.\\nAll in all, JSON Schemas offer a very complete set of validations to validate most data.\\n\\n### Generate random data\\n\\nTo validate data, we start by defining a Schema. An easy way to create a Schema is by using `schematix init`, which\\nwe can invoke by using the following command:\\n\\n```\\ndocker run -ti schematix/cli:latest init\\n```\\n\\nThis will generate a starting point for our Schema, and highlights some of the options Schematix provides. To make\\nthings a bit simpler, we limit the schema to only 3 properties, like this:\\n\\n```json\\n{\\n  \\"$schema\\" : \\"http://json-schema.org/draft-07/schema#\\",\\n  \\"$id\\" : \\"https://schema.schematix.net/data-gen/simple_types.json\\",\\n  \\"type\\" : \\"object\\",\\n  \\"title\\" : \\"Initializer template\\",\\n  \\"description\\" : \\"Initializer example template\\",\\n  \\"properties\\" : {\\n    \\"author\\" : {\\n      \\"type\\" : \\"string\\"\\n    },\\n    \\"book title\\" : {\\n      \\"type\\" : \\"string\\"\\n    },\\n    \\"isbn10\\" : {\\n      \\"type\\" : \\"string\\",\\n      \\"maxLength\\" : 10\\n    }\\n  },\\n  \\"required\\" : [ \\"author\\" ]\\n}\\n```\\n\\nSo, now we have a simple JSON Schema which we can use to validate some input data. \\nSave the above file to a file named `book.schema.json`\\n\\nWe could create some data to validate by hand, but it\'s easier to have Schematix validate a few records for us. \\nWe can do so using the `generate-data` command, like this:\\n\\n```\\ndocker run -ti -v ${PWD}:/tmp schematix/cli generate-data /tmp/book.schema.json --output=/tmp/books.csv\\n```\\n\\nThis will produce the following result:\\n\\n| author | book title | isbn10 |\\n| ------------- | ------------- | ----- |\\n|Shelli Kreiger|A Catskill Eagle|0733564410|\\n|Kling Group|Blue Remembered Earth|1595015485|\\n|\\"Funk, Hirthe and Daniel\\"|Ring of Bright Water|0473680718|\\n|\\"Buckridge, Padberg and Abernathy\\"|Little Hands Clapping|165077253X|\\n|Eugena Stiedemann|Fran\xe7oise Sagan|0985914041|\\n|Tami Carroll MD|Nine Coaches Waiting|196552673X|\\n|\\"Swaniawski, Stiedemann and Boehm\\"|Frequent Hearses|1726121577|\\n|Altenwerth-Champlin|Tender Is the Night|1337231479|\\n|Mr. Gaye Russel|Consider Phlebas|0033802831|\\n|Dr. Zonia DuBuque|The Mirror Crack\'d from Side to Side|1650263562|\\n\\nAs you can see in the data above, the generated data isn\'t some random string. Schematix comes\\nwith many natural text generators, and attempts to find a suitable match based on the heurisics\\nin the schema. This makes working with data far more pleasant than just generating a text like\\n`pXOOqbkqzk`. The posibilities of generating random data go far beyond this basic example, but it\\ngives bit of an indication of what\'s possible.\\n\\n### Validating CSV data\\n\\nNow, the last part of our setup is to actually start validating the CSV data. If we would validate\\nthe data as is, there wouldn\'t be any validation errors, since Schematix attempts to generate\\nonly valid data, unless instructed otherwise. So, let\'s manually change some of the data.\\n\\nWhen looking at the schema, we see that we have a maxmum length for the ISBN 10 identifier. We\\ncan put an invalid value in the data by exceeding the length of 10, so let\'s do that, and change the \\nlast number in the CSV file like this:\\n\\n| author | book title | isbn10 |\\n| ------------- | ----------- | ----- |\\n|Dr. Zonia DuBuque|The Mirror Crack\'d from Side to Side|1650263562**XXX**|\\n\\nNow that we have invalid data in the CSV file, let\'s validate it. You can do so with the following command,\\nwhich is very similar to the command to generate data:\\n\\n```\\ndocker run -ti -v ${PWD}:/tmp schematix/cli validate  /tmp/books.csv /tmp/book.schema.json --header=1\\n```\\n\\nNote that we\'re supplying `header=1` parameter, to skip the first line of the CSV file, which contains the header.\\n\\nThe validation result will now look like this:\\n\\n```\\nValidation FAILED with 1 error:\\n- line 20:<isbn10> String length 13 is greater than maxLength 10\\n```\\n\\nAnd we\'ve validated our first CSV file using a JSON Schema!\\n\\n## Conclusion\\n\\nThe above gave a small introduction in how to improve the quality of data coming out or going into\\na system by providing the option to easily validate the data. If you need to know more, \\nplease [check out the documentation](/docs/getting_started/overview), or contact us!"},{"id":"Welcome","metadata":{"permalink":"/blog/2019/05/30/welcome","source":"@site/blog/2019-05-30-welcome.md","title":"Welcome","description":"Blog features are powered by the blog plugin. Simply add files to the blog directory. It supports tags as well!","date":"2019-05-30T00:00:00.000Z","formattedDate":"May 30, 2019","tags":[{"label":"facebook","permalink":"/blog/tags/facebook"},{"label":"hello","permalink":"/blog/tags/hello"},{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":0.175,"truncated":false,"authors":[{"name":"Yangshun Tay","title":"Front End Engineer @ Facebook","url":"https://github.com/yangshun","imageURL":"https://avatars0.githubusercontent.com/u/1315101?s=400&v=4"}],"prevItem":{"title":"Validating CSV files using JSON Schemas","permalink":"/blog/2021/11/17/validating-csv-files-with-json-schemas"},"nextItem":{"title":"Hello","permalink":"/blog/2019/05/29/hello-world"}},"content":"Blog features are powered by the blog plugin. Simply add files to the `blog` directory. It supports tags as well!\\n\\nDelete the whole directory if you don\'t want the blog features. As simple as that!"},{"id":"Hello","metadata":{"permalink":"/blog/2019/05/29/hello-world","source":"@site/blog/2019-05-29-hello-world.md","title":"Hello","description":"Welcome to this blog. This blog is created with Docusaurus 2 alpha.","date":"2019-05-29T00:00:00.000Z","formattedDate":"May 29, 2019","tags":[{"label":"hello","permalink":"/blog/tags/hello"},{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":0.12,"truncated":true,"authors":[{"name":"Endilie Yacop Sucipto","title":"Maintainer of Docusaurus","url":"https://github.com/endiliey","imageURL":"https://avatars1.githubusercontent.com/u/17883920?s=460&v=4"}],"prevItem":{"title":"Welcome","permalink":"/blog/2019/05/30/welcome"},"nextItem":{"title":"Hola","permalink":"/blog/2019/05/28/hola"}},"content":"Welcome to this blog. This blog is created with [**Docusaurus 2 alpha**](https://v2.docusaurus.io/).\\n\\n\x3c!--truncate--\x3e\\n\\nThis is a test post.\\n\\nA whole bunch of other information."},{"id":"Hola","metadata":{"permalink":"/blog/2019/05/28/hola","source":"@site/blog/2019-05-28-hola.md","title":"Hola","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet","date":"2019-05-28T00:00:00.000Z","formattedDate":"May 28, 2019","tags":[{"label":"hola","permalink":"/blog/tags/hola"},{"label":"docusaurus","permalink":"/blog/tags/docusaurus"}],"readingTime":0.12,"truncated":false,"authors":[{"name":"Gao Wei","title":"Docusaurus Core Team","url":"https://github.com/wgao19","imageURL":"https://avatars1.githubusercontent.com/u/2055384?v=4"}],"prevItem":{"title":"Hello","permalink":"/blog/2019/05/29/hello-world"}},"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet"}]}')}}]);